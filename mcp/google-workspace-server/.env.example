# ============================================================
# Google Workspace MCP Server - Environment Configuration
# ============================================================

# ============================================================
# 1. NODE ENVIRONMENT
# ============================================================
NODE_ENV=development  # development | staging | production

# ============================================================
# 2. GOOGLE OAUTH2 CREDENTIALS
# ============================================================
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Create a new project or select existing
# 2. Enable APIs: Google Sheets API, Google Docs API, Google Drive API
# 3. Create OAuth 2.0 Client ID (Desktop app or Web app)
# 4. Download the credentials JSON

GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/oauth2callback

# For service account (recommended for server-to-server):
# Download service account key JSON from Google Cloud Console
GOOGLE_SERVICE_ACCOUNT_EMAIL=prolex@your-project.iam.gserviceaccount.com
GOOGLE_SERVICE_ACCOUNT_KEY_PATH=/path/to/service-account-key.json

# OR provide the full JSON content (alternative to key path):
# GOOGLE_SERVICE_ACCOUNT_JSON='{"type":"service_account","project_id":"...","private_key_id":"...","private_key":"...","client_email":"...","client_id":"...","auth_uri":"...","token_uri":"...","auth_provider_x509_cert_url":"...","client_x509_cert_url":"..."}'

# ============================================================
# 3. GOOGLE API SCOPES
# ============================================================
# Space-separated list of scopes
GOOGLE_SCOPES=https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/documents https://www.googleapis.com/auth/drive

# ============================================================
# 4. GOOGLE WORKSPACE SETTINGS
# ============================================================
# Default spreadsheet ID for SystemJournal (optional)
SYSTEM_JOURNAL_SPREADSHEET_ID=1xEEtkiRFLYvOc0lmK2V6xJyw5jUeye80rqcqjQ2vTpk

# Default Google Drive folder for Prolex (optional)
PROLEX_DRIVE_FOLDER_ID=your-folder-id

# ============================================================
# 5. CACHE & RATE LIMITING
# ============================================================
# Cache TTL in seconds (default: 300 = 5 minutes)
CACHE_TTL=300

# Max requests per minute
RATE_LIMIT_MAX_REQUESTS=60

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# ============================================================
# 6. LOGGING
# ============================================================
# Log level: trace | debug | info | warn | error | fatal
LOG_LEVEL=info

# SystemJournal log file path (JSONL format)
SYSTEM_JOURNAL_LOG_PATH=./logs/system-journal.jsonl

# Enable pretty logging (for development)
LOG_PRETTY=true

# ============================================================
# 7. HEALTHCHECK SERVER
# ============================================================
# HTTP port for healthcheck endpoints
HEALTHCHECK_PORT=3001

# ============================================================
# 8. RETRY CONFIGURATION
# ============================================================
# Max retry attempts for failed API calls
RETRY_MAX_ATTEMPTS=3

# Retry delay in milliseconds (exponential backoff)
RETRY_DELAY_MS=1000

# ============================================================
# 9. MCP SERVER SETTINGS
# ============================================================
# Server name
MCP_SERVER_NAME=google-workspace-mcp-server

# Server version
MCP_SERVER_VERSION=1.0.0

# ============================================================
# 10. SECURITY
# ============================================================
# Enable request validation
ENABLE_REQUEST_VALIDATION=true

# Max file size for uploads (in bytes, default: 10MB)
MAX_UPLOAD_SIZE_BYTES=10485760
