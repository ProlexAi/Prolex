# ============================================================
# MCP Communication - Configuration Environnement
# ⚠️ SÉCURITÉ : NE JAMAIS COMMITTER CE FICHIER AVEC VOS VRAIES CLÉS
# ============================================================

# Environnement (development, staging, production)
NODE_ENV=development

# ============================================================
# EMAIL - Gmail API ou SMTP
# ============================================================

# Gmail API (recommandé)
GMAIL_CLIENT_ID=xxxxx.apps.googleusercontent.com
GMAIL_CLIENT_SECRET=xxxxx
GMAIL_REFRESH_TOKEN=xxxxx
GMAIL_USER_EMAIL=votre-email@gmail.com

# OU SMTP (alternatif)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=votre-email@gmail.com
SMTP_PASSWORD=xxxxx

# Expéditeur par défaut
EMAIL_FROM=Prolex AI <noreply@automatt.ai>

# ============================================================
# SMS & WhatsApp - Twilio
# ============================================================

TWILIO_ACCOUNT_SID=ACxxxxx
TWILIO_AUTH_TOKEN=xxxxx
TWILIO_PHONE_NUMBER=+33xxxxxxxxx
TWILIO_WHATSAPP_NUMBER=whatsapp:+33xxxxxxxxx

# ============================================================
# Slack
# ============================================================

SLACK_BOT_TOKEN=xoxb-xxxxx
SLACK_APP_TOKEN=xapp-xxxxx
SLACK_SIGNING_SECRET=xxxxx
SLACK_DEFAULT_CHANNEL=#general

# ============================================================
# Telegram
# ============================================================

TELEGRAM_BOT_TOKEN=xxxxx:xxxxx
TELEGRAM_DEFAULT_CHAT_ID=xxxxx

# ============================================================
# SÉCURITÉ - Configuration Critique
# ============================================================

# Whitelist de destinataires autorisés (séparés par virgules)
# Emails
ALLOWED_EMAIL_RECIPIENTS=client1@example.com,client2@example.com,equipe@automatt.ai
# Téléphones (format international)
ALLOWED_PHONE_NUMBERS=+33612345678,+33698765432
# Slack User IDs
ALLOWED_SLACK_USERS=U01234567,U98765432
# Telegram Chat IDs
ALLOWED_TELEGRAM_CHATS=123456789,987654321

# Domaines email autorisés (wildcards supportés)
ALLOWED_EMAIL_DOMAINS=automatt.ai,example.com

# Blacklist (contacts bloqués)
BLOCKED_RECIPIENTS=spam@example.com,+33600000000

# ============================================================
# RATE LIMITING - Protection contre abus
# ============================================================

# Limites par canal (par heure)
RATE_LIMIT_EMAIL_PER_HOUR=50
RATE_LIMIT_SMS_PER_HOUR=20
RATE_LIMIT_WHATSAPP_PER_HOUR=30
RATE_LIMIT_SLACK_PER_HOUR=100
RATE_LIMIT_TELEGRAM_PER_HOUR=100

# Limite globale (tous canaux confondus)
RATE_LIMIT_GLOBAL_PER_HOUR=200

# Taille max pièces jointes (Mo)
MAX_ATTACHMENT_SIZE_MB=10

# ============================================================
# CONFIRMATION - Actions sensibles
# ============================================================

# Confirmation requise pour envois en masse (> seuil)
REQUIRE_CONFIRMATION_BULK_THRESHOLD=10

# Confirmation pour contacts hors whitelist
REQUIRE_CONFIRMATION_NON_WHITELISTED=true

# ============================================================
# LOGGING & AUDIT
# ============================================================

# SystemJournal
SYSTEM_JOURNAL_ENABLED=true
SYSTEM_JOURNAL_SPREADSHEET_ID=1xEEtkiRFLYvOc0lmK2V6xJyw5jUeye80rqcqjQ2vTpk

# Logs de sécurité (fichier local)
SECURITY_LOG_ENABLED=true
SECURITY_LOG_PATH=./logs/security.log

# Log tous les messages envoyés
LOG_ALL_MESSAGES=true

# ============================================================
# DÉTECTION DE MENACES
# ============================================================

# Détecter patterns suspects (phishing, spam)
ENABLE_THREAT_DETECTION=true

# Bloquer liens suspects
BLOCK_SUSPICIOUS_LINKS=true

# Scanner pièces jointes (VirusTotal API - optionnel)
VIRUSTOTAL_API_KEY=xxxxx
SCAN_ATTACHMENTS=false

# ============================================================
# CACHE
# ============================================================

CACHE_TTL_SECONDS=300
CACHE_ENABLED=true

# ============================================================
# ALERTES
# ============================================================

# Email d'alerte admin
ADMIN_EMAIL=matthieu@automatt.ai

# Alertes Telegram admin
ADMIN_TELEGRAM_CHAT_ID=xxxxx

# Alerter en cas de tentative suspecte
ALERT_ON_SUSPICIOUS_ACTIVITY=true
