{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://automatt.ai/schemas/payloads/git_sync.schema.json",
  "title": "Git Sync Payload",
  "description": "Payload pour synchroniser un dépôt Git local avec le remote",
  "type": "object",
  "required": ["repo_path"],
  "properties": {
    "repo_path": {
      "type": "string",
      "description": "Chemin local du dépôt Git"
    },
    "operation": {
      "type": "string",
      "enum": ["pull", "push", "sync"],
      "default": "sync",
      "description": "Opération à effectuer (pull, push, ou sync = pull + push)"
    },
    "branch": {
      "type": "string",
      "description": "Branche à synchroniser (défaut: branche courante)"
    },
    "commit_message": {
      "type": "string",
      "description": "Message de commit si des changements locaux doivent être committés"
    },
    "auto_commit": {
      "type": "boolean",
      "default": false,
      "description": "Committer automatiquement les changements locaux avant le push"
    },
    "force": {
      "type": "boolean",
      "default": false,
      "description": "Forcer la synchronisation (attention: peut écraser des changements)"
    }
  },
  "additionalProperties": false
}
